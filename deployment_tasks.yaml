- id: hiera-override
  type: puppet
  groups: ['primary-controller','controller','compute-vmware']
  required_for: [netconfig]
  requires: [globals]
  parameters:
    puppet_manifest: puppet/manifests/hiera-override.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 120
- id: compute-vmware-nova-config
  type: puppet
  groups: ['compute-vmware']
  required_for: [top-role-compute-vmware]
  requires: [top-role-compute]
  parameters:
    puppet_manifest: puppet/manifests/compute-vmware-nova-config.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 300
- id: openstack-haproxy-nova-metadata-public_vip
  type: puppet
  groups: ['primary-controller','controller']
  required_for: [openstack-haproxy]
  requires: [openstack-haproxy-nova]
  parameters:
    puppet_manifest: puppet/manifests/haproxy-nova-metadata-config.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 120
- id: nsxv-install
  type: puppet
  groups: ['primary-controller','controller']
  required_for: [openstack-network]
  requires: [hiera-override]
  parameters:
    puppet_manifest: puppet/manifests/nsxv-config.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 300
- id: configure_default_route_cinder_vmware
  type: puppet
  groups: ['cinder-vmware']
  requires: [openstack-cinder]
  required_for: [top-role-cinder-vmware]
  parameters:
    puppet_manifest: /etc/puppet/modules/osnailyfacter/modular/netconfig/configure_default_route.pp
    puppet_modules: /etc/puppet/modules
    timeout: 300
- id: configure_default_route_compute_vmware
  type: puppet
  groups: ['compute-vmware']
  requires: [top-role-compute]
  required_for: [top-role-compute-vmware]
  parameters:
    puppet_manifest: /etc/puppet/modules/osnailyfacter/modular/netconfig/configure_default_route.pp
    puppet_modules: /etc/puppet/modules
    timeout: 300
- id: openstack-haproxy-neutron
  type: skipped
- id: openstack-haproxy-neutron-nsxv
  type: puppet
  groups: [primary-controller, controller]
  required_for: [openstack-haproxy]
  requires: [deploy_start, cluster-haproxy]
  parameters:
    puppet_manifest: puppet/manifests/openstack-haproxy-neutron.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 300
- id: nova-neutron-timeout-fix
  type: puppet
  groups: [primary-controller, controller]
  required_for: [vmware-vcenter]
  requires: [openstack-controller]
  parameters:
    puppet_manifest: puppet/manifests/nova-neutron-timeout-fix.pp
    puppet_modules: puppet/modules:/etc/puppet/modules
    timeout: 300
